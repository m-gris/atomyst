{"id":"atomyst-00d","title":"Detailed import fix reporting","description":"Show exactly which imports moved where, not just file count","status":"closed","priority":2,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T14:55:18.09376+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T14:57:04.242141+04:00","closed_at":"2026-02-01T14:57:04.242141+04:00","close_reason":"Closed"}
{"id":"atomyst-00d.1","title":"Add import_fix_detail type to rewrite.mli","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T14:55:29.943249+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T14:55:52.432907+04:00","closed_at":"2026-02-01T14:55:52.432907+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-00d.1","depends_on_id":"atomyst-00d","type":"parent-child","created_at":"2026-02-01T14:55:29.943945+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-00d.2","title":"Track details during fix_consumer_imports","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T14:55:30.729922+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T14:56:30.934825+04:00","closed_at":"2026-02-01T14:56:30.934825+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-00d.2","depends_on_id":"atomyst-00d","type":"parent-child","created_at":"2026-02-01T14:55:30.730627+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-00d.3","title":"Format detailed output in main.ml","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T14:55:31.655034+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T14:56:45.101+04:00","closed_at":"2026-02-01T14:56:45.101+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-00d.3","depends_on_id":"atomyst-00d","type":"parent-child","created_at":"2026-02-01T14:55:31.655753+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-00d.4","title":"Update tests for new fix_result shape","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T14:55:32.566604+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T14:57:04.231022+04:00","closed_at":"2026-02-01T14:57:04.231022+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-00d.4","depends_on_id":"atomyst-00d","type":"parent-child","created_at":"2026-02-01T14:55:32.56731+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-0km","title":"OCaml: Implement renderers","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-31T08:12:23.144027+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T19:53:49.915367+04:00","closed_at":"2026-01-31T19:53:49.915367+04:00","close_reason":"TDD complete: plan_text, plan_json, extraction_text, extraction_json, error. 6 tests pass."}
{"id":"atomyst-188","title":"Implement extract_constants in python_parser.ml","description":"Parse with pyre-ast, filter for Statement.Assign and Statement.AnnAssign with simple Name targets. Return list of module_constant.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T17:36:04.46531+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T17:39:52.600279+04:00","closed_at":"2026-02-01T17:39:52.600279+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-188","depends_on_id":"atomyst-yuh","type":"blocks","created_at":"2026-02-01T17:37:12.708985+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-1mp","title":"Epic: Issue #16 Phase 1 - Detection \u0026 Warning","description":"MVP phase: Detect module-level constants and warn when definitions reference them. No code generation yet - just surface the problem loudly.","status":"closed","priority":2,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T17:35:57.077735+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T17:44:53.883774+04:00","closed_at":"2026-02-01T17:44:53.883774+04:00","close_reason":"Closed"}
{"id":"atomyst-1ss","title":"Update build_init_file for prefixed imports","description":"When prefix_kind=true, imports in __init__.py should use prefixed module names: 'from .class_user import User' not 'from .user import User'.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:48.451918+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T10:50:22.773774+04:00","closed_at":"2026-02-02T10:50:22.773774+04:00","close_reason":"Implemented","dependencies":[{"issue_id":"atomyst-1ss","depends_on_id":"atomyst-ad6","type":"blocks","created_at":"2026-02-02T10:15:21.950667+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-1ul","title":"Auto-fix doesn't handle multi-line consumer imports","description":"GitHub issue #13: Consumer files with multi-line import blocks are not being fixed by the rewrite module. Tree-sitter should parse them, but replacement generation or application may be failing.","status":"closed","priority":1,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T15:34:56.381618+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T15:39:49.030066+04:00","closed_at":"2026-02-01T15:39:49.030066+04:00","close_reason":"Fixed: regex now handles both named and numbered captures, and optional text field for multi-line statements"}
{"id":"atomyst-1xa","title":"Add --prefix-kind flag to cmdliner","description":"Define prefix_kind_arg: Arg.(value \u0026 flag \u0026 info [\"prefix-kind\"] ~doc:\"Prefix filenames with definition kind\"). Add to atomize term.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:45.287065+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T10:45:19.538486+04:00","closed_at":"2026-02-02T10:45:19.538486+04:00","close_reason":"Implemented in main.ml"}
{"id":"atomyst-23r","title":"Skip file-level docstring when extracting (GH #3)","status":"closed","priority":1,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T07:44:46.065512+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T07:53:36.28933+04:00","closed_at":"2026-02-01T07:53:36.28933+04:00","close_reason":"Implemented in extract.ml and atomyst.py - module docstrings and pragma comments are now skipped during import extraction"}
{"id":"atomyst-2gk","title":"Fix TYPE_CHECKING block extraction","description":"Current extract_imports stops at `if TYPE_CHECKING:` line. Need to include the full block:\n```python\nif TYPE_CHECKING:\n    from heavy import HeavyType\n```\nThis requires detecting and including if-TYPE_CHECKING blocks in the import extraction.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T14:14:34.653961+04:00","created_by":"Marc GRIS","updated_at":"2026-01-30T14:18:50.041537+04:00","closed_at":"2026-01-30T14:18:50.041537+04:00","close_reason":"Closed"}
{"id":"atomyst-37j","title":"Generate manifest file preserving original definition order","description":"GitHub issue #7: Generate MANIFEST.yaml/json/md with original ordering of definitions for navigation and reversibility. Add --manifest flag.","status":"closed","priority":2,"issue_type":"feature","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T09:56:34.238575+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T10:04:34.39971+04:00","closed_at":"2026-02-01T10:04:34.39971+04:00","close_reason":"Implemented --manifest flag with yaml, json, and md formats. Generates MANIFEST file preserving original definition order."}
{"id":"atomyst-3d7","title":"Replace all Python parsing with pyre-ast","description":"errpy archived (Jan 2025) and doesn't build on OCaml 5.x. Pivoting to pyre-ast which is actively maintained and works on OCaml 5.2.","status":"closed","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T16:11:41.037516+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T16:40:15.16248+04:00","closed_at":"2026-02-01T16:40:15.16248+04:00","close_reason":"Migration complete: Python import parsing now uses pyre-ast instead of tree-sitter+regex. All tests passing."}
{"id":"atomyst-3d7.1","title":"Spike: verify errpy builds and API works","description":"Install errpy, verify it builds with current opam switch, test basic parsing API","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T16:11:48.539246+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T16:31:10.467451+04:00","closed_at":"2026-02-01T16:31:10.467451+04:00","close_reason":"Spike complete: errpy doesn't build on OCaml 5.2 (archived Jan 2025). pyre-ast works and provides same functionality.","dependencies":[{"issue_id":"atomyst-3d7.1","depends_on_id":"atomyst-3d7","type":"parent-child","created_at":"2026-02-01T16:11:48.539925+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3d7.2","title":"Create Python_parser module wrapping pyre-ast","description":"Thin wrapper exposing import extraction from errpy AST. Pure functions, typed interface.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T16:11:50.960158+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T16:36:51.303494+04:00","closed_at":"2026-02-01T16:36:51.303494+04:00","close_reason":"Python_parser module created with pyre-ast integration. All 15 tests passing.","dependencies":[{"issue_id":"atomyst-3d7.2","depends_on_id":"atomyst-3d7","type":"parent-child","created_at":"2026-02-01T16:11:50.960879+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-3d7.2","depends_on_id":"atomyst-3d7.1","type":"blocks","created_at":"2026-02-01T16:12:01.746503+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3d7.3","title":"Replace Rewrite.find_imports_from_module with pyre-ast","description":"Use Python_parser for consumer import detection. Remove tree-sitter CLI and regex parsing.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T16:11:51.865178+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T16:38:05.647055+04:00","closed_at":"2026-02-01T16:38:05.647055+04:00","close_reason":"Replaced tree-sitter+regex with pyre-ast in find_imports_from_module. All tests passing.","dependencies":[{"issue_id":"atomyst-3d7.3","depends_on_id":"atomyst-3d7","type":"parent-child","created_at":"2026-02-01T16:11:51.865873+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-3d7.3","depends_on_id":"atomyst-3d7.2","type":"blocks","created_at":"2026-02-01T16:12:01.816058+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3d7.4","title":"Replace Extract.parse_import_names with pyre-ast","description":"Use Python_parser for source file import extraction. Remove regex-based parsing.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T16:11:52.79267+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T16:39:14.508246+04:00","closed_at":"2026-02-01T16:39:14.508246+04:00","close_reason":"Replaced regex-based import parsing with pyre-ast in Extract.parse_import_names. All tests passing.","dependencies":[{"issue_id":"atomyst-3d7.4","depends_on_id":"atomyst-3d7","type":"parent-child","created_at":"2026-02-01T16:11:52.793402+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-3d7.4","depends_on_id":"atomyst-3d7.2","type":"blocks","created_at":"2026-02-01T16:12:01.884646+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3d7.5","title":"Remove tree-sitter artifacts","description":"Delete queries/consumer_imports.scm, python.dylib, tree-sitter CLI invocation code","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T16:11:53.70126+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T16:40:15.080336+04:00","closed_at":"2026-02-01T16:40:15.080336+04:00","close_reason":"Removed unused consumer_imports.scm and imports.scm queries. Tree-sitter still needed for definitions.scm.","dependencies":[{"issue_id":"atomyst-3d7.5","depends_on_id":"atomyst-3d7","type":"parent-child","created_at":"2026-02-01T16:11:53.701954+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-3d7.5","depends_on_id":"atomyst-3d7.3","type":"blocks","created_at":"2026-02-01T16:12:01.951364+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-3d7.5","depends_on_id":"atomyst-3d7.4","type":"blocks","created_at":"2026-02-01T16:12:02.025534+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3d7.6","title":"Update tests for pyre-ast-based parsing","description":"Ensure all existing tests pass. Add tests for edge cases errpy handles better.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T16:11:54.629364+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T16:39:20.699793+04:00","closed_at":"2026-02-01T16:39:20.699793+04:00","close_reason":"Tests already pass with pyre-ast integration - no updates needed.","dependencies":[{"issue_id":"atomyst-3d7.6","depends_on_id":"atomyst-3d7","type":"parent-child","created_at":"2026-02-01T16:11:54.630079+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-3d7.6","depends_on_id":"atomyst-3d7.3","type":"blocks","created_at":"2026-02-01T16:12:02.092607+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-3d7.6","depends_on_id":"atomyst-3d7.4","type":"blocks","created_at":"2026-02-01T16:12:02.161542+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3jz","title":"Release Automation","status":"closed","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T09:01:53.225526+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T10:15:49.454891+04:00","closed_at":"2026-02-01T10:15:49.454891+04:00","close_reason":"Release automation complete. GitHub Actions builds binaries on tag push, install.sh downloads correct platform binary."}
{"id":"atomyst-3jz.1","title":"Create GitHub Actions release workflow","description":"Build release.yml workflow that builds OCaml binaries on macOS arm64/x86_64 and Linux x86_64 when a tag is pushed","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T09:04:25.61279+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T09:10:46.381137+04:00","closed_at":"2026-02-01T09:10:46.381137+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-3jz.1","depends_on_id":"atomyst-3jz","type":"parent-child","created_at":"2026-02-01T09:04:25.613543+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3jz.2","title":"Build tree-sitter per platform in CI","description":"Compile python.dylib/python.so from vendor/tree-sitter-python on each platform during CI build","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T09:04:25.815539+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T09:10:46.39382+04:00","closed_at":"2026-02-01T09:10:46.39382+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-3jz.2","depends_on_id":"atomyst-3jz","type":"parent-child","created_at":"2026-02-01T09:04:25.816286+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3jz.3","title":"Create install.sh script","description":"Curl-friendly installer that detects platform and downloads correct binary from GitHub releases","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T09:04:25.993906+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T09:10:46.407686+04:00","closed_at":"2026-02-01T09:10:46.407686+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-3jz.3","depends_on_id":"atomyst-3jz","type":"parent-child","created_at":"2026-02-01T09:04:25.994738+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3jz.4","title":"Pass version from git tag to binary","description":"Read ATOMYST_VERSION env var in bin/main.ml, fallback to dev. CI sets this from git tag.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T09:04:26.172409+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T09:10:46.420941+04:00","closed_at":"2026-02-01T09:10:46.420941+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-3jz.4","depends_on_id":"atomyst-3jz","type":"parent-child","created_at":"2026-02-01T09:04:26.173191+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3jz.5","title":"Delete obsolete Python publish workflow","description":"Remove .github/workflows/publish.yml which was for Python/PyPI","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T09:04:26.354413+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T09:10:46.432886+04:00","closed_at":"2026-02-01T09:10:46.432886+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-3jz.5","depends_on_id":"atomyst-3jz","type":"parent-child","created_at":"2026-02-01T09:04:26.355119+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3jz.6","title":"Test release on all platforms","description":"Push a test tag and verify all 3 platform builds succeed and install.sh works","notes":"Paused - CI fix committed but not pushed. Waiting for issues #5 and #6 to be resolved first.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T09:04:26.537093+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T10:15:48.170236+04:00","closed_at":"2026-02-01T10:15:48.170236+04:00","close_reason":"Release workflow working - builds darwin-arm64 and linux-x86_64. Install script verified working.","dependencies":[{"issue_id":"atomyst-3jz.6","depends_on_id":"atomyst-3jz","type":"parent-child","created_at":"2026-02-01T09:04:26.537832+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3m7","title":"Extend module_constant with source_text field","description":"Add source_text: string to module_constant record. Extract raw source lines for each constant using location info.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T17:36:14.221266+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T17:46:48.45403+04:00","closed_at":"2026-02-01T17:46:48.45403+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-3m7","depends_on_id":"atomyst-bju","type":"blocks","created_at":"2026-02-01T17:38:06.466754+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3nh","title":"Add --preserve-reexports flag","description":"Escape hatch for library authors who want to keep re-exports in __init__.py without rewriting consumers","status":"closed","priority":2,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T14:54:52.058376+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T15:04:16.564907+04:00","closed_at":"2026-02-01T15:04:16.564907+04:00","close_reason":"Closed"}
{"id":"atomyst-3nh.1","title":"Add --preserve-reexports Cmdliner arg","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T14:55:21.918188+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T14:57:16.98447+04:00","closed_at":"2026-02-01T14:57:16.98447+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-3nh.1","depends_on_id":"atomyst-3nh","type":"parent-child","created_at":"2026-02-01T14:55:21.918959+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3nh.2","title":"Thread flag through run_atomize","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T14:55:23.115465+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T14:57:56.424879+04:00","closed_at":"2026-02-01T14:57:56.424879+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-3nh.2","depends_on_id":"atomyst-3nh","type":"parent-child","created_at":"2026-02-01T14:55:23.116319+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3nh.3","title":"Conditional skip of fix_consumer_imports","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T14:55:24.158519+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T14:58:10.584185+04:00","closed_at":"2026-02-01T14:58:10.584185+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-3nh.3","depends_on_id":"atomyst-3nh","type":"parent-child","created_at":"2026-02-01T14:55:24.159202+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3nh.4","title":"Adjust warning messages for flag","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T14:55:25.135008+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T14:58:45.714336+04:00","closed_at":"2026-02-01T14:58:45.714336+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-3nh.4","depends_on_id":"atomyst-3nh","type":"parent-child","created_at":"2026-02-01T14:55:25.135949+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-3nh.5","title":"Test --preserve-reexports behavior","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T14:55:26.011903+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T15:04:16.553221+04:00","closed_at":"2026-02-01T15:04:16.553221+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-3nh.5","depends_on_id":"atomyst-3nh","type":"parent-child","created_at":"2026-02-01T14:55:26.012671+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-46u","title":"Handle logger = logging.getLogger(__name__) correctly","description":"Module-level logger instantiation depends on __name__. If atomyst puts this in _constants.py, all extracted files import the same logger with wrong identity.","acceptance_criteria":"1. Detect pattern: \u003cname\u003e = logging.getLogger(__name__)\n2. Don't put it in _constants.py\n3. Copy the line to each extracted file that uses the logger variable\n4. Each file gets correct __name__ for its logger","status":"closed","priority":1,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T15:28:57.799359+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T15:48:25.870924+04:00","closed_at":"2026-02-02T15:48:25.870924+04:00","close_reason":"Implemented logger binding detection and per-file replication","external_ref":"gh-22","labels":["bug"]}
{"id":"atomyst-4dk","title":"Epic: CLI Integration","description":"Wire prefix/lint into main.ml. Add --prefix-kind flag, lint subcommand, refactor to Cmd.group.","status":"closed","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:18.769303+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T11:51:04.43997+04:00","closed_at":"2026-02-02T11:51:04.43997+04:00","close_reason":"All subtasks completed"}
{"id":"atomyst-4pn","title":"Create lib/render.ml","description":"Pure renderers: plan to text, plan to JSON, outcome to text","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T12:48:21.495965+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T09:20:33.796645+04:00","closed_at":"2026-01-31T09:20:33.796645+04:00","close_reason":"Superseded by atomyst-0km","dependencies":[{"issue_id":"atomyst-4pn","depends_on_id":"atomyst-a2w","type":"blocks","created_at":"2026-01-30T12:53:35.077544+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-4so","title":"Add intra-module imports for cross-definition references","description":"GitHub issue #6: When definitions in same file reference each other, extracted files need imports added. e.g. if InfoSpec references SqlPatternMapping, info_spec.py needs 'from .sql_pattern_mapping import SqlPatternMapping'","status":"closed","priority":1,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T09:24:55.040469+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T09:48:06.682372+04:00","closed_at":"2026-02-01T09:48:06.682372+04:00","close_reason":"Implemented sibling reference detection and automatic import generation. When definitions reference each other, extracted files now include 'from .module import Name' imports."}
{"id":"atomyst-4vw","title":"Add Python language config","description":"First language: Python. Define node types (class_definition, function_definition), __init__.py, snake_case naming","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T12:48:23.115229+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T09:20:33.952244+04:00","closed_at":"2026-01-31T09:20:33.952244+04:00","close_reason":"Python-only for now, no lang abstraction needed","dependencies":[{"issue_id":"atomyst-4vw","depends_on_id":"atomyst-qun","type":"blocks","created_at":"2026-01-30T12:53:36.853189+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-51d","title":"extract_definitions doesn't distinguish AsyncFunction","description":"The Types.definition_kind type includes AsyncFunction but extract_definitions in extract.ml (line 94) only returns Class or Function. This affects --prefix-kind lint: files with async_def_ prefix will always show as mismatched. Fix: either update tree-sitter query or post-process with pyre-ast to detect 'async def'.","status":"closed","priority":3,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:41:09.440061+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T14:21:55.886814+04:00","closed_at":"2026-02-02T14:21:55.886814+04:00","close_reason":"Fixed via pyre-ast in commit cf448ee"}
{"id":"atomyst-51w","title":"Add async function fixture","description":"Test async def extraction with decorators","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T13:08:34.16362+04:00","created_by":"Marc GRIS","updated_at":"2026-01-30T14:13:39.067477+04:00","closed_at":"2026-01-30T14:13:39.067477+04:00","close_reason":"Closed"}
{"id":"atomyst-556","title":"Install cmdliner","description":"opam install cmdliner - CLI argument parsing","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T12:48:17.194969+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T07:01:11.476674+04:00","closed_at":"2026-01-31T07:01:11.476674+04:00","close_reason":"cmdliner 2.1.0 already installed","dependencies":[{"issue_id":"atomyst-556","depends_on_id":"atomyst-t8x","type":"blocks","created_at":"2026-01-30T12:53:31.19551+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-60e","title":"Unit tests for find_constant_references","description":"Test in test_extract.ml: basic detection, no false positives (substring matches), multiple constants.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T17:36:09.975344+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T17:41:37.715506+04:00","closed_at":"2026-02-01T17:41:37.715506+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-60e","depends_on_id":"atomyst-tdv","type":"blocks","created_at":"2026-02-01T17:37:12.977375+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-62t","title":"Add module-level code fixture","description":"Test that module-level code (TypeVar, constants, __all__) is NOT extracted as definitions:\n```python\nT = TypeVar('T')\nCONSTANT = 42\n__all__ = ['Foo']\n```","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T13:08:33.476697+04:00","created_by":"Marc GRIS","updated_at":"2026-01-30T14:15:28.407641+04:00","closed_at":"2026-01-30T14:15:28.407641+04:00","close_reason":"Closed"}
{"id":"atomyst-6kl","title":"Include _constants.py in atomization output","description":"Modify plan_atomization: if any constants referenced by any definition, add _constants.py to output_files list.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T17:36:18.311438+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T17:54:26.340956+04:00","closed_at":"2026-02-01T17:54:26.340956+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-6kl","depends_on_id":"atomyst-k6v","type":"blocks","created_at":"2026-02-01T17:38:06.668224+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-6t5","title":"Create bin/main.ml","description":"CLI entry point using cmdliner","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T12:48:22.566953+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T09:20:44.283496+04:00","closed_at":"2026-01-31T09:20:44.283496+04:00","close_reason":"Skeleton exists, superseded by atomyst-yr8 (CLI with Cmdliner)","dependencies":[{"issue_id":"atomyst-6t5","depends_on_id":"atomyst-jqh","type":"blocks","created_at":"2026-01-30T12:53:36.194676+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-6t5","depends_on_id":"atomyst-4pn","type":"blocks","created_at":"2026-01-30T12:53:36.247696+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-6t5","depends_on_id":"atomyst-556","type":"blocks","created_at":"2026-01-30T12:53:36.300946+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-6ww","title":"Implement parse_filename regex","description":"Regex pattern to parse class_user.py, def_calc.py, async_def_fetch.py etc. Note: async_def must precede def in alternation. Return parsed_filename option.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:29.039309+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T10:32:40.883709+04:00","closed_at":"2026-02-02T10:32:40.883709+04:00","close_reason":"Implementation complete in prefix.ml/mli","dependencies":[{"issue_id":"atomyst-6ww","depends_on_id":"atomyst-9n9","type":"blocks","created_at":"2026-02-02T10:15:10.961555+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-72j","title":"Create lint.mli interface","description":"Define lint_issue record (file_path, expected_prefix, actual_kind, definition_name, line), lint_result type (Clean | Issues | Error), check_file and lint_directory signatures","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:36.097651+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T10:36:07.788117+04:00","closed_at":"2026-02-02T10:36:07.788117+04:00","close_reason":"Interface defined with stub impl","dependencies":[{"issue_id":"atomyst-72j","depends_on_id":"atomyst-wcp","type":"blocks","created_at":"2026-02-02T10:15:15.873494+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-7en","title":"Binding Classification Architecture","description":"Refactor module-level binding handling from ad-hoc Python-specific logic to a general classification system. Enables multi-language support and proper handling of edge cases (gh-23).","design":"Source plan: docs/plans/2026-02-02-binding-classification-architecture.atomized.md\n\nArchitecture:\n- main.ml → binding_classifier.ml → python_parser.ml\n- Orchestration handles classified_binding list generically\n- Classification is pure computation: AST → strategy\n\nApproach: /dual-tdd (types first, tests second, impl third) with /rigor (audit baseline first)","acceptance_criteria":"1. New binding_classifier.ml module owns ALL Python-specific patterns\n2. main.ml orchestration is language-agnostic (handles strategies, not patterns)\n3. Three strategies implemented: Centralize, ReplicatePerFile, Warn\n4. Logger behavior unchanged (fixture 18 passes)\n5. New edge cases detected: __file__ dependent, mutable collections","status":"open","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T16:11:30.952268+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T16:11:30.952268+04:00","external_ref":"gh-23","labels":["architecture","refactor"]}
{"id":"atomyst-7en.1","title":"Phase 0: Audit current binding behavior","description":"Document current binding handling behavior via code comments and tests BEFORE any changes. This establishes the baseline for regression detection.","design":"Light audit approach - document in code, not separate markdown.\n\n```ocaml\n(** AUDIT: Current binding handling as of 2026-02-02\n    - [x] Simple constants → _constants.py\n    - [x] Logger bindings → replicate per-file  \n    - [ ] __file__ dependent → NOT DETECTED (BUG)\n    - [ ] Mutable collections → NOT DETECTED (BUG)\n*)\n```","acceptance_criteria":"1. Docstring in test file documenting current patterns detected\n2. Note which patterns are handled vs NOT handled (bugs)\n3. Snapshot of current behavior captured","status":"open","priority":2,"issue_type":"chore","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T16:11:40.230028+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T16:11:40.230028+04:00","labels":["audit","rigor"],"dependencies":[{"issue_id":"atomyst-7en.1","depends_on_id":"atomyst-7en","type":"parent-child","created_at":"2026-02-02T16:11:40.230816+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-7en.2","title":"Phase 1: Define binding_strategy types","description":"Define the type system that constrains valid implementations. Types ARE the specification.","design":"/dual-tdd: Types first.\n\n```ocaml\ntype binding_strategy =\n  | Centralize\n  | ReplicatePerFile\n  | Warn of string\n\ntype classified_binding = {\n  name : string;\n  source_text : string;\n  strategy : binding_strategy;\n  reason : string;\n}\n```","acceptance_criteria":"1. binding_strategy type in lib/types.ml (Centralize | ReplicatePerFile | Warn)\n2. classified_binding record type with name, source_text, strategy, reason\n3. lib/binding_classifier.mli interface defined\n4. lib/dune updated\n5. `just build` compiles","status":"open","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T16:11:44.403027+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T16:11:44.403027+04:00","labels":["dual-tdd","types"],"dependencies":[{"issue_id":"atomyst-7en.2","depends_on_id":"atomyst-7en","type":"parent-child","created_at":"2026-02-02T16:11:44.40385+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-7en.2","depends_on_id":"atomyst-7en.1","type":"blocks","created_at":"2026-02-02T16:12:38.763587+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-7en.3","title":"Phase 2: Write failing tests for classifier","description":"Write tests that define expected behavior BEFORE implementation. Tests must fail (or not compile) initially.","design":"/dual-tdd: Tests second.\n\nTests define the contract. Running them should fail because Binding_classifier module doesn't exist yet. This is correct - we're specifying behavior before implementing.","acceptance_criteria":"1. test/ocaml/test_binding_classifier.ml created\n2. Tests for Centralize: simple constants, annotated constants\n3. Tests for ReplicatePerFile: logger pattern, __file__ pattern\n4. Tests for Warn: mutable dict, mutable list\n5. Tests fail or don't compile (module doesn't exist yet)","status":"open","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T16:11:48.626314+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T16:11:48.626314+04:00","labels":["dual-tdd","testing"],"dependencies":[{"issue_id":"atomyst-7en.3","depends_on_id":"atomyst-7en","type":"parent-child","created_at":"2026-02-02T16:11:48.627042+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-7en.3","depends_on_id":"atomyst-7en.2","type":"blocks","created_at":"2026-02-02T16:12:38.838029+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-7en.4","title":"Phase 3: Implement binding_classifier.ml","description":"Minimal implementation that satisfies the type system and passes all tests.","design":"/dual-tdd: Implementation third.\n\nFollow existing pattern from is_logger_getname_call in python_parser.ml:\n- AST pattern matching for detection\n- Pure functions, no side effects\n- Recursive traversal for nested expressions","acceptance_criteria":"1. lib/binding_classifier.ml implements classify_bindings\n2. Detection predicates: contains_dunder_name, contains_dunder_file, is_mutable_literal\n3. partition_by_strategy helper function\n4. All Phase 2 tests pass\n5. `just test-ocaml` green","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T16:11:52.844327+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T16:11:52.844327+04:00","labels":["dual-tdd","implementation"],"dependencies":[{"issue_id":"atomyst-7en.4","depends_on_id":"atomyst-7en","type":"parent-child","created_at":"2026-02-02T16:11:52.845156+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-7en.4","depends_on_id":"atomyst-7en.3","type":"blocks","created_at":"2026-02-02T16:12:38.922712+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-7en.5","title":"Phase 4: Integrate into main.ml","description":"Replace ad-hoc logger handling in plan_atomization with generic strategy-based handling. Remove Python-specific knowledge from orchestration.","design":"Before: 40+ lines of logger-specific logic in plan_atomization\nAfter: Generic handling via partition_by_strategy\n\n```ocaml\nlet classified = Binding_classifier.classify_bindings source in\nlet (centralize, replicate, warn) = partition_by_strategy classified in\n(* Handle each strategy generically *)\n```","acceptance_criteria":"1. main.ml uses Binding_classifier.classify_bindings\n2. No Python-specific pattern knowledge in main.ml\n3. Logger behavior unchanged (fixture 18 passes)\n4. `just test-fixtures` green (no regressions)\n5. Warnings emitted for Warn-strategy bindings","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T16:11:57.84883+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T16:11:57.84883+04:00","labels":["integration","refactor"],"dependencies":[{"issue_id":"atomyst-7en.5","depends_on_id":"atomyst-7en","type":"parent-child","created_at":"2026-02-02T16:11:57.849707+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-7en.5","depends_on_id":"atomyst-7en.4","type":"blocks","created_at":"2026-02-02T16:12:38.997745+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-7en.6","title":"Phase 5: Add edge case fixtures","description":"Add test fixtures for new edge cases from gh-23. Each follows TDD cycle.","design":"Each fixture follows same TDD pattern:\n1. Write failing test\n2. Verify detection works\n3. Verify output correct","acceptance_criteria":"1. test/fixtures/19_mutable_state/ created with warning behavior\n2. test/fixtures/20_file_dependent/ created with replicate behavior\n3. All new fixtures pass\n4. gh-23 core edge cases addressed","status":"open","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T16:12:00.987823+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T16:12:00.987823+04:00","labels":["edge-cases","testing"],"dependencies":[{"issue_id":"atomyst-7en.6","depends_on_id":"atomyst-7en","type":"parent-child","created_at":"2026-02-02T16:12:00.988543+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-7en.6","depends_on_id":"atomyst-7en.5","type":"blocks","created_at":"2026-02-02T16:12:39.07319+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-7sn","title":"Implement lint_directory function","description":"Effect boundary: reads files from directory, calls check_file on each .py file, aggregates into lint_result. Returns Clean/Issues/Error.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:38.968132+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T10:37:09.951066+04:00","closed_at":"2026-02-02T10:37:09.951066+04:00","close_reason":"Both implemented in lint.ml","dependencies":[{"issue_id":"atomyst-7sn","depends_on_id":"atomyst-k98","type":"blocks","created_at":"2026-02-02T10:15:16.861211+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-80i","title":"Install yojson","description":"opam install yojson - JSON handling","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T12:48:17.839667+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T07:01:11.552715+04:00","closed_at":"2026-01-31T07:01:11.552715+04:00","close_reason":"yojson 3.0.0 already installed","dependencies":[{"issue_id":"atomyst-80i","depends_on_id":"atomyst-t8x","type":"blocks","created_at":"2026-01-30T12:53:31.94544+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-81n","title":"Update test/ocaml/dune with new tests","description":"Add test entries for test_prefix and test_lint with (libraries atomyst alcotest).","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:15:01.538487+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T10:35:18.018959+04:00","closed_at":"2026-02-02T10:35:18.018959+04:00","close_reason":"Tests passing"}
{"id":"atomyst-89m","title":"Auto-fix consumer imports","description":"Automatically rewrite consumer imports when atomizing to fix re-export breakage","status":"closed","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T13:14:45.958223+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T13:27:56.002771+04:00","closed_at":"2026-02-01T13:27:56.002771+04:00","close_reason":"Feature implemented: auto-fix consumer imports when atomizing"}
{"id":"atomyst-89m.1","title":"Find git root and scan Python files","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T13:15:03.644434+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T13:24:16.777427+04:00","closed_at":"2026-02-01T13:24:16.777427+04:00","close_reason":"Implemented in lib/rewrite.ml","dependencies":[{"issue_id":"atomyst-89m.1","depends_on_id":"atomyst-89m","type":"parent-child","created_at":"2026-02-01T13:15:03.645081+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-89m.10","title":"Add verification tests","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T13:15:10.157262+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T13:27:51.44718+04:00","closed_at":"2026-02-01T13:27:51.44718+04:00","close_reason":"Implemented and tests pass","dependencies":[{"issue_id":"atomyst-89m.10","depends_on_id":"atomyst-89m","type":"parent-child","created_at":"2026-02-01T13:15:10.157966+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-89m.2","title":"Create tree-sitter import query with positions","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T13:15:04.441075+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T13:24:16.790076+04:00","closed_at":"2026-02-01T13:24:16.790076+04:00","close_reason":"Implemented in lib/rewrite.ml","dependencies":[{"issue_id":"atomyst-89m.2","depends_on_id":"atomyst-89m","type":"parent-child","created_at":"2026-02-01T13:15:04.442032+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-89m.3","title":"Resolve module paths from file paths","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T13:15:05.083159+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T13:24:16.802435+04:00","closed_at":"2026-02-01T13:24:16.802435+04:00","close_reason":"Implemented in lib/rewrite.ml","dependencies":[{"issue_id":"atomyst-89m.3","depends_on_id":"atomyst-89m","type":"parent-child","created_at":"2026-02-01T13:15:05.083978+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-89m.4","title":"Classify imports as definition vs reexport","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T13:15:05.835238+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T13:24:16.814523+04:00","closed_at":"2026-02-01T13:24:16.814523+04:00","close_reason":"Implemented in lib/rewrite.ml","dependencies":[{"issue_id":"atomyst-89m.4","depends_on_id":"atomyst-89m","type":"parent-child","created_at":"2026-02-01T13:15:05.836044+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-89m.5","title":"Generate replacement import text","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T13:15:06.499108+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T13:24:16.826642+04:00","closed_at":"2026-02-01T13:24:16.826642+04:00","close_reason":"Implemented in lib/rewrite.ml","dependencies":[{"issue_id":"atomyst-89m.5","depends_on_id":"atomyst-89m","type":"parent-child","created_at":"2026-02-01T13:15:06.499897+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-89m.6","title":"Apply rewrites atomically to files","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T13:15:07.219067+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T13:24:16.838087+04:00","closed_at":"2026-02-01T13:24:16.838087+04:00","close_reason":"Implemented in lib/rewrite.ml","dependencies":[{"issue_id":"atomyst-89m.6","depends_on_id":"atomyst-89m","type":"parent-child","created_at":"2026-02-01T13:15:07.219805+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-89m.7","title":"Integrate into run_atomize flow","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T13:15:07.948536+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T13:27:51.434288+04:00","closed_at":"2026-02-01T13:27:51.434288+04:00","close_reason":"Implemented and tests pass","dependencies":[{"issue_id":"atomyst-89m.7","depends_on_id":"atomyst-89m","type":"parent-child","created_at":"2026-02-01T13:15:07.949518+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-89m.8","title":"Handle edge cases: aliases, multi-line, comments","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T13:15:08.718738+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T13:24:16.848566+04:00","closed_at":"2026-02-01T13:24:16.848566+04:00","close_reason":"Implemented in lib/rewrite.ml","dependencies":[{"issue_id":"atomyst-89m.8","depends_on_id":"atomyst-89m","type":"parent-child","created_at":"2026-02-01T13:15:08.719778+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-89m.9","title":"Fail fast on star imports","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T13:15:09.43866+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T13:24:16.859459+04:00","closed_at":"2026-02-01T13:24:16.859459+04:00","close_reason":"Implemented in lib/rewrite.ml","dependencies":[{"issue_id":"atomyst-89m.9","depends_on_id":"atomyst-89m","type":"parent-child","created_at":"2026-02-01T13:15:09.439317+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-8i1","title":"OCaml: Implement snake_case with TDD","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-31T08:12:14.93392+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T11:45:54.495879+04:00","closed_at":"2026-01-31T11:45:54.495879+04:00","close_reason":"TDD complete: .mli signature, 15 test cases from Python, all passing","dependencies":[{"issue_id":"atomyst-8i1","depends_on_id":"atomyst-mzl","type":"blocks","created_at":"2026-01-31T08:12:32.850533+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-929","title":"Integration test fixture for constants","description":"Create test/fixtures/XX_constants/ with input.py containing SQL_TYPE_MAPPING + class that uses it. Expected output: _constants.py + definition file with import.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T17:36:19.790431+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T17:55:41.649017+04:00","closed_at":"2026-02-01T17:55:41.649017+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-929","depends_on_id":"atomyst-dat","type":"blocks","created_at":"2026-02-01T17:38:06.731254+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-929","depends_on_id":"atomyst-6kl","type":"blocks","created_at":"2026-02-01T17:38:06.796903+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-9cd","title":"Research tree-sitter OCaml bindings","description":"Evaluate semgrep/ocaml-tree-sitter-core vs AbstractMachinesLab/ocaml-tree-sitter. Pick one.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T12:48:19.260661+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T09:19:57.939207+04:00","closed_at":"2026-01-31T09:19:57.939207+04:00","close_reason":"Research complete: chose tree-sitter CLI + JSON approach for MVP"}
{"id":"atomyst-9n9","title":"Create prefix.mli interface","description":"Define types and signatures: parsed_filename record, kind_to_prefix, generate_filename, parse_filename, prefix_to_kinds, is_special_file","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:24.915914+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T10:32:40.871027+04:00","closed_at":"2026-02-02T10:32:40.871027+04:00","close_reason":"Implementation complete in prefix.ml/mli"}
{"id":"atomyst-9ow","title":"Initialize opam","description":"opam init","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T12:48:14.842796+04:00","created_by":"Marc GRIS","updated_at":"2026-01-30T23:01:01.296267+04:00","closed_at":"2026-01-30T23:01:01.296267+04:00","close_reason":"Initialized opam","dependencies":[{"issue_id":"atomyst-9ow","depends_on_id":"atomyst-j3s","type":"blocks","created_at":"2026-01-30T12:53:28.634195+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-9v8","title":"Add TYPE_CHECKING fixture","description":"Test handling of TYPE_CHECKING blocks:\n```python\nfrom typing import TYPE_CHECKING\nif TYPE_CHECKING:\n    from heavy import HeavyType\n```\nShould be preserved in extracted files.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T13:08:32.156622+04:00","created_by":"Marc GRIS","updated_at":"2026-01-30T14:14:39.715747+04:00","closed_at":"2026-01-30T14:14:39.715747+04:00","close_reason":"Closed"}
{"id":"atomyst-9xx","title":"Consumer import fix crashes when using kind-prefixed filenames","status":"open","priority":2,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T14:31:25.737203+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T14:31:25.737203+04:00"}
{"id":"atomyst-a2w","title":"Create lib/types.ml","description":"Domain types: Definition, OutputFile, AtomizePlan, AtomizeOutcome","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T12:48:20.483701+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T07:15:33.135518+04:00","closed_at":"2026-01-31T07:15:33.135518+04:00","close_reason":"Created as part of scaffold","dependencies":[{"issue_id":"atomyst-a2w","depends_on_id":"atomyst-t1c","type":"blocks","created_at":"2026-01-30T12:53:33.875221+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-a5h","title":"Issue #16: Generate _constants.py","description":"Phase 2: Generate _constants.py with all module-level constants, add imports to definition files that reference them. Builds on Phase 1 detection.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T17:33:37.389798+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T17:35:51.917739+04:00","closed_at":"2026-02-01T17:35:51.917739+04:00","close_reason":"Restructuring into epics with granular tasks","dependencies":[{"issue_id":"atomyst-a5h","depends_on_id":"atomyst-jj9","type":"blocks","created_at":"2026-02-01T17:33:41.653347+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-ad6","title":"Update filename generation to use Prefix.generate_filename","description":"Replace hardcoded 'Snake_case.to_snake_case defn.name ^ \".py\"' with 'Prefix.generate_filename ~prefix_kind defn' in plan_atomization around line 296.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:46.901631+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T10:45:19.552265+04:00","closed_at":"2026-02-02T10:45:19.552265+04:00","close_reason":"Implemented in main.ml","dependencies":[{"issue_id":"atomyst-ad6","depends_on_id":"atomyst-u1w","type":"blocks","created_at":"2026-02-02T10:15:20.800099+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-ad6","depends_on_id":"atomyst-1xa","type":"blocks","created_at":"2026-02-02T10:15:21.314124+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-aif","title":"Fix extract_imports for multi-line docstrings (GH#1)","status":"closed","priority":1,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T15:36:19.662294+04:00","created_by":"Marc GRIS","updated_at":"2026-01-30T15:37:35.903814+04:00","closed_at":"2026-01-30T15:37:35.903814+04:00","close_reason":"Fixed with TDD, 73 tests pass"}
{"id":"atomyst-ar7","title":"Fix relative import depth for consumer files (#14)","description":"Auto-fix was using source file's relative import depth instead of calculating correct depth for consumer file location","status":"closed","priority":1,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T16:50:25.574964+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T16:50:30.191999+04:00","closed_at":"2026-02-01T16:50:30.191999+04:00","close_reason":"Implemented adjust_import_for_consumer to calculate correct relative import depth"}
{"id":"atomyst-awo","title":"Create fixture 17_prefix_kind expected/","description":"Expected output with --prefix-kind: __init__.py, class_user_profile.py, def_calculate_total.py, async_def_fetch_data.py","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:59.197514+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T11:13:26.680483+04:00","closed_at":"2026-02-02T11:13:26.680483+04:00","close_reason":"Created as part of atomyst-cjs","dependencies":[{"issue_id":"atomyst-awo","depends_on_id":"atomyst-cjs","type":"blocks","created_at":"2026-02-02T10:15:26.817399+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-bju","title":"Emit warning in main.ml for unreferenced constants","description":"After extracting definitions: call extract_constants, check references per definition, emit warning like: '⚠ FieldTypeInfo references SQL_TYPE_MAPPING (not extracted)'","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T17:36:07.59133+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T17:44:53.813756+04:00","closed_at":"2026-02-01T17:44:53.813756+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-bju","depends_on_id":"atomyst-tdv","type":"blocks","created_at":"2026-02-01T17:37:12.912364+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-bsd","title":"Issue #17: Constants file needs sibling imports","description":"When a constant references functions/classes defined in the same file, those definitions must be imported into _constants.py. Currently HACKY_HANDLERS = [_hacky_budget_handler, ...] causes NameError because the functions aren't imported.","status":"closed","priority":1,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T18:04:34.747872+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T18:08:53.184708+04:00","closed_at":"2026-02-01T18:08:53.184708+04:00","close_reason":"Closed"}
{"id":"atomyst-c4e","title":"Refactor main.ml to Cmd.group","description":"Use Cmd.group with ~default:atomize_term for backward compat. 'atomyst file.py' = atomize, 'atomyst lint dir/' = lint subcommand, 'atomyst atomize file.py' = explicit.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:52.0425+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T11:21:16.784931+04:00","closed_at":"2026-02-02T11:21:16.784931+04:00","close_reason":"Lint subcommand implemented with Cmd.group","dependencies":[{"issue_id":"atomyst-c4e","depends_on_id":"atomyst-vxv","type":"blocks","created_at":"2026-02-02T10:15:23.016275+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-cjs","title":"Create fixture 17_prefix_kind input.py","description":"Input file with class UserProfile, def calculate_total, async def fetch_data to test all major kinds.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:57.252639+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T11:13:21.805075+04:00","closed_at":"2026-02-02T11:13:21.805075+04:00","close_reason":"Fixture created and passing"}
{"id":"atomyst-cyd","title":"Install dune","description":"opam install dune","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T12:48:16.381207+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T07:01:11.39866+04:00","closed_at":"2026-01-31T07:01:11.39866+04:00","close_reason":"dune 3.21.0 installed","dependencies":[{"issue_id":"atomyst-cyd","depends_on_id":"atomyst-t8x","type":"blocks","created_at":"2026-01-30T12:53:30.443315+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-dat","title":"Add constant imports to definition files","description":"In build_definition_file: detect referenced constants, prepend 'from ._constants import X, Y' to extracted file.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T17:36:16.996843+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T17:54:26.329809+04:00","closed_at":"2026-02-01T17:54:26.329809+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-dat","depends_on_id":"atomyst-k6v","type":"blocks","created_at":"2026-02-01T17:38:06.603254+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-dm9","title":"Install ppx_deriving","description":"opam install ppx_deriving - derive show, eq, etc.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T12:48:18.579597+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T07:01:11.631775+04:00","closed_at":"2026-01-31T07:01:11.631775+04:00","close_reason":"ppx_deriving 6.1.1 already installed","dependencies":[{"issue_id":"atomyst-dm9","depends_on_id":"atomyst-t8x","type":"blocks","created_at":"2026-01-30T12:53:32.667669+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-dtd","title":"Create prefix_lint_test.sh integration test","description":"Test --prefix-kind generates correct filenames, test lint passes on correct prefixes, test lint fails on mismatched prefixes.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:59.87023+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T11:50:53.500087+04:00","closed_at":"2026-02-02T11:50:53.500087+04:00","close_reason":"Integration test created and passing","dependencies":[{"issue_id":"atomyst-dtd","depends_on_id":"atomyst-c4e","type":"blocks","created_at":"2026-02-02T10:15:27.321274+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-e72","title":"Epic: Issue #16 Phase 2 - Constants Generation","description":"Full solution: Generate _constants.py with module-level constants, add imports to definition files that reference them.","status":"closed","priority":2,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T17:35:58.019962+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T17:55:41.662015+04:00","closed_at":"2026-02-01T17:55:41.662015+04:00","close_reason":"Closed"}
{"id":"atomyst-edr","title":"Issue #19: Constants import uses wrong module name","description":"Extracted files import from .constants but the file is named _constants.py. Need to check if this is a bug in import generation or something else.","status":"closed","priority":1,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T18:48:44.567036+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T18:52:37.074808+04:00","closed_at":"2026-02-01T18:52:37.074808+04:00","close_reason":"Closed"}
{"id":"atomyst-eiu","title":"Add --list flag to show definitions","description":"Add --list flag to show all top-level definitions. Default: file order. With --organized: group by kind (classes, functions, async functions, type aliases, assignments). Must expand extract_definitions to capture ALL top-level nodes, not just classes/functions.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T15:04:59.40392+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T08:22:53.222853+04:00","closed_at":"2026-02-01T08:22:53.222853+04:00","close_reason":"Implemented --list and --organized flags with text and JSON output","dependencies":[{"issue_id":"atomyst-eiu","depends_on_id":"atomyst-wwj","type":"blocks","created_at":"2026-01-30T15:05:04.129452+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-fzt","title":"Issue #20: --remove-original flag","description":"Add flag to remove original file after atomization. Only delete if: in git repo, file tracked, no uncommitted changes.","status":"closed","priority":2,"issue_type":"feature","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T19:12:31.90395+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T19:49:06.904522+04:00","closed_at":"2026-02-01T19:49:06.904522+04:00","close_reason":"Implemented --remove-original flag with git safety checks (in-repo, tracked, clean). Added Git_utils module with 5 tests."}
{"id":"atomyst-j3s","title":"Install opam via brew","description":"brew install opam","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T12:48:14.039177+04:00","created_by":"Marc GRIS","updated_at":"2026-01-30T19:16:15.128425+04:00","closed_at":"2026-01-30T19:16:15.128425+04:00","close_reason":"Already installed: opam 2.5.0"}
{"id":"atomyst-jam","title":"Add --extract flag for incremental mode","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T15:03:28.524761+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T09:20:15.419085+04:00","closed_at":"2026-01-31T09:20:15.419085+04:00","close_reason":"Already implemented in commit 35801bd","dependencies":[{"issue_id":"atomyst-jam","depends_on_id":"atomyst-wwj","type":"blocks","created_at":"2026-01-30T15:03:35.45761+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-jam","depends_on_id":"atomyst-eiu","type":"blocks","created_at":"2026-01-30T15:05:04.197348+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-jj9","title":"Issue #16: Detect module-level constants","description":"Phase 1 MVP: Add extract_constants to Python_parser, detect references in definitions, emit warnings. Does NOT extract constants yet - just surfaces the problem.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T17:33:36.149566+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T17:35:51.905838+04:00","closed_at":"2026-02-01T17:35:51.905838+04:00","close_reason":"Restructuring into epics with granular tasks"}
{"id":"atomyst-jjt","title":"Preserve module docstring in __init__.py","description":"When atomizing a file, the original module docstring should be preserved in the generated __init__.py. Currently it's lost with a warning. Since we now delete the original by default, this becomes critical.\n\nRequirements:\n- Extract module docstring from source file\n- Place it at the top of __init__.py\n- Add atomization metadata (tool name, datetime, source file)\n- Update warning logic (only warn in incremental/extract mode)\n\nRelated: issue #20 (auto-remove original)","status":"closed","priority":1,"issue_type":"feature","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T20:37:08.251977+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T20:44:23.639597+04:00","closed_at":"2026-02-01T20:44:23.639597+04:00","close_reason":"Implemented docstring preservation in __init__.py with atomization metadata. Added 4 unit tests and 6 integration tests."}
{"id":"atomyst-jqh","title":"Create lib/extract.ml","description":"Pure extraction logic: parse source, extract definitions with line ranges","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T12:48:20.992451+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T09:20:33.719289+04:00","closed_at":"2026-01-31T09:20:33.719289+04:00","close_reason":"Superseded by atomyst-u0l with updated deps","dependencies":[{"issue_id":"atomyst-jqh","depends_on_id":"atomyst-a2w","type":"blocks","created_at":"2026-01-30T12:53:34.436583+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-jqh","depends_on_id":"atomyst-9cd","type":"blocks","created_at":"2026-01-30T12:53:34.497975+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-k45","title":"Adjust relative import depth for subdirectory extraction","description":"GitHub issue #5: When extracting to subdirectory, relative imports need extra dots. e.g. 'from .common' should become 'from ..common' when going one level deeper.","status":"closed","priority":1,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T09:24:53.380103+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T09:44:03.9916+04:00","closed_at":"2026-02-01T09:44:03.9916+04:00","close_reason":"Implemented adjust_relative_imports function. When extracting to subdirectory, relative imports now get extra dots added."}
{"id":"atomyst-k6v","title":"Implement build_constants_file in main.ml","description":"Generate _constants.py content: copy necessary imports from source + all constant definitions, preserving source order.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T17:36:15.620121+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T17:54:26.317745+04:00","closed_at":"2026-02-01T17:54:26.317745+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-k6v","depends_on_id":"atomyst-3m7","type":"blocks","created_at":"2026-02-01T17:38:06.537713+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-k98","title":"Implement check_file function","description":"Pure function: takes file_path and content, returns lint_issue list. Skip special files, parse prefix, extract definitions, filter mismatches.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:37.557527+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T10:37:09.937805+04:00","closed_at":"2026-02-02T10:37:09.937805+04:00","close_reason":"Both implemented in lint.ml","dependencies":[{"issue_id":"atomyst-k98","depends_on_id":"atomyst-72j","type":"blocks","created_at":"2026-02-02T10:15:16.382223+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-ka5","title":"OCaml: Parity testing vs Python","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-31T08:12:23.295068+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T07:21:22.36046+04:00","closed_at":"2026-02-01T07:21:22.36046+04:00","close_reason":"Parity test suite created. 5/5 tests pass. Known diff: async function label (cosmetic only).","dependencies":[{"issue_id":"atomyst-ka5","depends_on_id":"atomyst-yr8","type":"blocks","created_at":"2026-01-31T08:12:33.458921+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-kie","title":"Unit tests for extract_constants","description":"Test in test_python_parser.ml: Assign, AnnAssign, TypeAlias detection. Verify dunder names skipped, augmented assignments skipped.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T17:36:08.949164+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T17:40:24.161887+04:00","closed_at":"2026-02-01T17:40:24.161887+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-kie","depends_on_id":"atomyst-188","type":"blocks","created_at":"2026-02-01T17:37:12.840685+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-kmg","title":"Skip file-level pragmas/directives when extracting (GH #4)","status":"closed","priority":1,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T07:44:46.752261+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T07:53:36.301475+04:00","closed_at":"2026-02-01T07:53:36.301475+04:00","close_reason":"Implemented in extract.ml and atomyst.py - module docstrings and pragma comments are now skipped during import extraction"}
{"id":"atomyst-l2q","title":"OCaml: Implement extract_imports","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-31T08:12:16.415126+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T13:59:23.025922+04:00","closed_at":"2026-01-31T13:59:23.025922+04:00","close_reason":"TDD complete: handles docstrings, shebangs, imports, multi-line imports, TYPE_CHECKING blocks. 6 tests pass.","dependencies":[{"issue_id":"atomyst-l2q","depends_on_id":"atomyst-mzl","type":"blocks","created_at":"2026-01-31T08:12:33.062719+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-lie","title":"Epic: Lint Module","description":"Detect drift between filename prefix and actual definition kind. check_file for single files, lint_directory for batch checking.","status":"closed","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:17.665713+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T11:51:04.425091+04:00","closed_at":"2026-02-02T11:51:04.425091+04:00","close_reason":"All subtasks completed"}
{"id":"atomyst-mzl","title":"OCaml: Add tree-sitter-python dependency","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-31T08:12:14.205722+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T08:54:53.82361+04:00","closed_at":"2026-01-31T08:54:53.82361+04:00","close_reason":"tree-sitter CLI + python.dylib working"}
{"id":"atomyst-n1e","title":"Auto-generate __init__.py on extraction (GH #2)","status":"closed","priority":1,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T07:44:47.278617+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T07:55:21.102933+04:00","closed_at":"2026-02-01T07:55:21.102933+04:00","close_reason":"--extract now creates __init__.py if it doesn't exist, with the single extracted definition"}
{"id":"atomyst-nrg","title":"OCaml: Implement extract_one","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-31T08:12:23.067938+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T19:36:46.370179+04:00","closed_at":"2026-01-31T19:36:46.370179+04:00","close_reason":"TDD complete: extract_one extracts single definition with imports/comments, remainder. 3 tests pass.","dependencies":[{"issue_id":"atomyst-nrg","depends_on_id":"atomyst-u0l","type":"blocks","created_at":"2026-01-31T08:12:33.137611+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-nrg","depends_on_id":"atomyst-l2q","type":"blocks","created_at":"2026-01-31T08:12:33.222086+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-q7j","title":"Binary cannot find runtime dependencies","description":"Installed binary fails with 'Cannot find project root (python.dylib)'. Runtime deps (grammar, queries/) not bundled. See GitHub issue #9.","status":"closed","priority":1,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T10:28:53.050776+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T11:07:24.725457+04:00","closed_at":"2026-02-01T11:07:24.725457+04:00","close_reason":"Fixed: binary finds resources relative to install location"}
{"id":"atomyst-qan","title":"Fix multi-line import detection for re-exports","description":"GitHub issue #12: Multi-line imports (parenthesized form) are not detected when scanning for potential re-exports, causing the warning to miss common imports from packages like pydantic, typing, etc.","status":"closed","priority":1,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T15:10:36.524269+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T15:17:29.455427+04:00","closed_at":"2026-02-01T15:17:29.455427+04:00","close_reason":"Fixed: multi-line imports now detected by joining parenthesized blocks and stripping comments before parsing"}
{"id":"atomyst-qun","title":"Create lib/lang_config.ml","description":"Language configuration type: definition node types, file naming, index file, export syntax","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T12:48:22.021225+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T09:20:33.874635+04:00","closed_at":"2026-01-31T09:20:33.874635+04:00","close_reason":"Decided against lang_config abstraction for MVP","dependencies":[{"issue_id":"atomyst-qun","depends_on_id":"atomyst-a2w","type":"blocks","created_at":"2026-01-30T12:53:35.662403+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-rcx","title":"Epic: Testing \u0026 Fixtures","description":"Unit tests, integration tests, and fixture for --prefix-kind and lint subcommand.","status":"closed","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:19.705446+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T11:51:04.45604+04:00","closed_at":"2026-02-02T11:51:04.45604+04:00","close_reason":"All subtasks completed"}
{"id":"atomyst-s5b","title":"Create README.md with usage examples","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T15:03:29.099622+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T08:31:37.177466+04:00","closed_at":"2026-02-01T08:31:37.177466+04:00","close_reason":"Created comprehensive README with installation, usage examples for all modes, features, and philosophy","dependencies":[{"issue_id":"atomyst-s5b","depends_on_id":"atomyst-jam","type":"blocks","created_at":"2026-01-30T15:03:35.52354+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-t1c","title":"Scaffold dune-project","description":"Create dune-project file with project metadata","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T12:48:19.931338+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T07:15:22.962932+04:00","closed_at":"2026-01-31T07:15:22.962932+04:00","close_reason":"dune-project scaffolded, builds and runs","dependencies":[{"issue_id":"atomyst-t1c","depends_on_id":"atomyst-cyd","type":"blocks","created_at":"2026-01-30T12:53:33.305046+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-t8x","title":"Create opam switch for atomyst","description":"opam switch create atomyst 5.2.0","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T12:48:15.543295+04:00","created_by":"Marc GRIS","updated_at":"2026-01-30T23:12:32.580717+04:00","closed_at":"2026-01-30T23:12:32.580717+04:00","close_reason":"Created local switch with OCaml 5.2.0","dependencies":[{"issue_id":"atomyst-t8x","depends_on_id":"atomyst-9ow","type":"blocks","created_at":"2026-01-30T12:53:29.636779+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-tdv","title":"Add find_constant_references to extract.ml","description":"Given constant_names list and defn_content string, return which constants are referenced. Use regex word-boundary approach (\\bNAME\\b).","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T17:36:05.859885+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T17:41:03.513766+04:00","closed_at":"2026-02-01T17:41:03.513766+04:00","close_reason":"Closed","dependencies":[{"issue_id":"atomyst-tdv","depends_on_id":"atomyst-188","type":"blocks","created_at":"2026-02-01T17:37:12.775785+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-tuu","title":"Release v0.4.0","description":"Prepare and publish v0.4.0 release with accumulated features and fixes since v0.3.0.","design":"Release includes:\n- feat: --prefix-kind flag and lint subcommand\n- feat: --prefix-kind as default behavior\n- feat: logger binding handling (gh-22)\n- feat: AsyncFunction detection\n- fix: manifest signature mismatch (gh-24)\n- fix: crash on deleted tracked files\n- docs: expanded README","acceptance_criteria":"1. All open bugs for milestone fixed\n2. CHANGELOG updated\n3. Version bumped\n4. Tests pass\n5. Tag created and pushed\n6. GitHub release published","status":"open","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T17:52:09.306154+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T17:52:09.306154+04:00","labels":["release"]}
{"id":"atomyst-tuu.1","title":"Write CHANGELOG for v0.4.0","description":"Document all changes since v0.3.0 in CHANGELOG.md following keep-a-changelog format.","acceptance_criteria":"1. CHANGELOG.md has v0.4.0 section\n2. Features, fixes, and changes categorized\n3. Links to relevant issues/PRs","status":"open","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T17:52:15.379656+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T17:52:15.379656+04:00","labels":["docs","release"],"dependencies":[{"issue_id":"atomyst-tuu.1","depends_on_id":"atomyst-tuu","type":"parent-child","created_at":"2026-02-02T17:52:15.380379+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-tuu.1","depends_on_id":"atomyst-tuu.4","type":"blocks","created_at":"2026-02-02T17:57:40.230691+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-tuu.2","title":"Bump version to 0.4.0","description":"Update version number in dune-project and any other version references.","acceptance_criteria":"1. dune-project version updated\n2. Any hardcoded version strings updated\n3. Build succeeds with new version","status":"open","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T17:52:17.527347+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T17:52:17.527347+04:00","labels":["release"],"dependencies":[{"issue_id":"atomyst-tuu.2","depends_on_id":"atomyst-tuu","type":"parent-child","created_at":"2026-02-02T17:52:17.528133+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-tuu.2","depends_on_id":"atomyst-tuu.1","type":"blocks","created_at":"2026-02-02T17:52:24.346555+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-tuu.3","title":"Tag and publish v0.4.0","description":"Create git tag and GitHub release with release notes.","acceptance_criteria":"1. Git tag v0.4.0 created\n2. Tag pushed to origin\n3. GitHub release created with CHANGELOG excerpt","status":"open","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T17:52:19.060157+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T17:52:19.060157+04:00","labels":["release"],"dependencies":[{"issue_id":"atomyst-tuu.3","depends_on_id":"atomyst-tuu","type":"parent-child","created_at":"2026-02-02T17:52:19.060848+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-tuu.3","depends_on_id":"atomyst-tuu.2","type":"blocks","created_at":"2026-02-02T17:52:24.419876+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-tuu.4","title":"Fix _constants.py sibling imports missing kind prefix","description":"When using kind-prefixed filenames (default), _constants.py generates sibling imports without the prefix, causing ModuleNotFoundError.","acceptance_criteria":"1. _constants.py imports use kind-prefixed filenames when prefix_kind=true\n2. Test fixture captures this scenario\n3. Existing tests still pass","status":"in_progress","priority":1,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T17:57:34.695069+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T17:57:40.15876+04:00","external_ref":"gh-25","labels":["bug","release-blocker"],"dependencies":[{"issue_id":"atomyst-tuu.4","depends_on_id":"atomyst-tuu","type":"parent-child","created_at":"2026-02-02T17:57:34.695956+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-u0l","title":"OCaml: Implement extract_definitions","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-31T08:12:15.707234+04:00","created_by":"Marc GRIS","updated_at":"2026-01-31T13:54:11.815475+04:00","closed_at":"2026-01-31T13:54:11.815475+04:00","close_reason":"TDD complete: extracts definitions from Python source via tree-sitter, all 4 fixture tests pass","dependencies":[{"issue_id":"atomyst-u0l","depends_on_id":"atomyst-mzl","type":"blocks","created_at":"2026-01-31T08:12:32.920003+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-u0l","depends_on_id":"atomyst-8i1","type":"blocks","created_at":"2026-01-31T08:12:32.988471+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-u1w","title":"Implement prefix.ml core functions","description":"Implement kind_to_prefix (Class-\u003eclass, Function-\u003edef, AsyncFunction-\u003easync_def, Variable-\u003evar, TypeAlias-\u003etype), generate_filename with ~prefix_kind flag, prefix_to_kinds inverse mapping, is_special_file for _constants.py/__init__.py","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:27.02314+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T10:32:40.895746+04:00","closed_at":"2026-02-02T10:32:40.895746+04:00","close_reason":"Implementation complete in prefix.ml/mli","dependencies":[{"issue_id":"atomyst-u1w","depends_on_id":"atomyst-9n9","type":"blocks","created_at":"2026-02-02T10:15:10.492432+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-v2l","title":"Document test fixture format","description":"Add README to test/fixtures/ explaining how to add new fixtures","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T13:08:36.843632+04:00","created_by":"Marc GRIS","updated_at":"2026-01-30T14:16:42.41869+04:00","closed_at":"2026-01-30T14:16:42.41869+04:00","close_reason":"Closed"}
{"id":"atomyst-vvq","title":"Unit tests for lint module","description":"test_lint.ml: Test check_file with matching prefix (no issues), mismatched prefix (returns issue), special files (skipped), files without prefix (no constraint).","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:40.374676+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T10:41:25.983494+04:00","closed_at":"2026-02-02T10:41:25.983494+04:00","close_reason":"Tests passing, async detection tracked in atomyst-51d","dependencies":[{"issue_id":"atomyst-vvq","depends_on_id":"atomyst-7sn","type":"blocks","created_at":"2026-02-02T10:15:17.444038+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-vxv","title":"Add lint subcommand term","description":"Create run_lint function, lint_cmd term with dir_path arg. Output: OK with file count, or issues with file:line format.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:50.013675+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T11:21:16.770903+04:00","closed_at":"2026-02-02T11:21:16.770903+04:00","close_reason":"Lint subcommand implemented with Cmd.group","dependencies":[{"issue_id":"atomyst-vxv","depends_on_id":"atomyst-7sn","type":"blocks","created_at":"2026-02-02T10:15:22.70174+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-wcp","title":"Unit tests for prefix module","description":"test_prefix.ml: Test kind_to_prefix for all 5 kinds, generate_filename with prefix_kind true/false, parse_filename for various patterns (class_, def_, async_def_, no prefix), is_special_file","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:30.985704+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T10:35:18.005801+04:00","closed_at":"2026-02-02T10:35:18.005801+04:00","close_reason":"Tests passing","dependencies":[{"issue_id":"atomyst-wcp","depends_on_id":"atomyst-u1w","type":"blocks","created_at":"2026-02-02T10:15:11.548882+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-wcp","depends_on_id":"atomyst-6ww","type":"blocks","created_at":"2026-02-02T10:15:12.293398+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-wwj","title":"Create pyproject.toml for uv/uvx","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T15:03:27.773214+04:00","created_by":"Marc GRIS","updated_at":"2026-01-30T15:32:30.10838+04:00","closed_at":"2026-01-30T15:32:30.10838+04:00","close_reason":"pyproject.toml created, uv run atomyst works"}
{"id":"atomyst-xh4","title":"Add incremental extract_one mode","description":"Extract one definition at a time instead of batch.\n\nPure function:\n  extract_one : (source, name) -\u003e (extracted, remainder)\n\nCLI:\n  atomyst extract \u003cfile\u003e \u003cname\u003e [-o output_dir]\n\nMore surgical, composable, safer for large refactors.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T14:41:46.52546+04:00","created_by":"Marc GRIS","updated_at":"2026-01-30T14:54:35.2014+04:00","closed_at":"2026-01-30T14:54:35.2014+04:00","close_reason":"Incremental extract_one mode implemented with pure function, tests, and fixtures"}
{"id":"atomyst-xlo","title":"Git Testing Infrastructure + Fix #21","description":"Build proper testing infrastructure for git-dependent code in rewrite.ml and fix bug #21 (crash when tracked files don't exist on disk).","design":"Source plan: docs/plans/2026-02-02-git-testing-infrastructure.atomized.md\n\nFP/Unix approach:\n- Separate data (git state) from computation (pure logic) from action (shell commands)\n- Real git operations in temp dirs (not mocked)\n- Fun.protect for cleanup","acceptance_criteria":"1. Shared test helpers extracted and reusable\n2. test_git_utils.ml refactored to use shared helpers\n3. Git integration tests for find_git_root, find_python_files, fix_consumer_imports\n4. Bug #21 verified fixed (no crash on deleted tracked files)\n5. All tests pass","status":"open","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T15:26:34.105628+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T15:26:34.105628+04:00","labels":["refactor","testing"]}
{"id":"atomyst-xlo.1","title":"Extract shared test helpers","description":"Extract common test utilities from test_git_utils.ml into a shared module that can be reused by other test files.","design":"Key helper:\n```ocaml\nlet with_temp_git_repo f =\n  let dir = make_temp_dir \"test\" in\n  Fun.protect ~finally:(fun () -\u003e rm_rf dir) (fun () -\u003e\n    run_in_dir dir \"git init\";\n    run_in_dir dir \"git config user.email 'test@test.com'\";\n    run_in_dir dir \"git config user.name 'Test'\";\n    f dir\n  )\n```","acceptance_criteria":"1. test/ocaml/test_helpers.ml created with: make_temp_dir, rm_rf, run_in_dir, write_file, with_temp_git_repo\n2. test/ocaml/test_helpers.mli defines the interface\n3. test/ocaml/dune updated to include test_helpers in libraries\n4. Module compiles without errors","status":"open","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T15:26:41.706218+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T15:26:41.706218+04:00","labels":["testing"],"dependencies":[{"issue_id":"atomyst-xlo.1","depends_on_id":"atomyst-xlo","type":"parent-child","created_at":"2026-02-02T15:26:41.70715+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-xlo.2","title":"Refactor test_git_utils.ml to use shared helpers","description":"Replace inline helper functions in test_git_utils.ml with imports from the new Test_helpers module.","acceptance_criteria":"1. test_git_utils.ml uses 'open Test_helpers'\n2. All 5 existing tests still pass\n3. No duplicated helper code remains","status":"open","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T15:26:43.999838+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T15:26:43.999838+04:00","labels":["refactor","testing"],"dependencies":[{"issue_id":"atomyst-xlo.2","depends_on_id":"atomyst-xlo","type":"parent-child","created_at":"2026-02-02T15:26:44.000549+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-xlo.2","depends_on_id":"atomyst-xlo.1","type":"blocks","created_at":"2026-02-02T15:27:01.326025+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-xlo.3","title":"Expose find_git_root and find_python_files in rewrite.mli","description":"Add find_git_root and find_python_files to the rewrite.mli interface so they can be tested directly.","acceptance_criteria":"1. rewrite.mli includes: val find_git_root : string -\u003e string option\n2. rewrite.mli includes: val find_python_files : string -\u003e string list\n3. Compiles without errors","status":"open","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T15:26:46.879196+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T15:26:46.879196+04:00","labels":["api"],"dependencies":[{"issue_id":"atomyst-xlo.3","depends_on_id":"atomyst-xlo","type":"parent-child","created_at":"2026-02-02T15:26:46.879941+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-xlo.4","title":"Add git integration tests for rewrite.ml","description":"Add tests for git-dependent functions in rewrite.ml: find_git_root, find_python_files, and fix_consumer_imports (including the deleted-file scenario from bug #21).","design":"Tests create real git repos in temp dirs, add/commit files, then exercise the functions. The deleted-file test confirms bug #21 is fixed by deleting a tracked file from disk and verifying no crash.","acceptance_criteria":"1. test_rewrite.ml has test_find_git_root\n2. test_rewrite.ml has test_find_python_files\n3. test_rewrite.ml has test_fix_consumer_imports_skips_deleted_files\n4. All new tests pass\n5. Tests use with_temp_git_repo from Test_helpers","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T15:26:51.342392+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T15:26:51.342392+04:00","labels":["testing"],"dependencies":[{"issue_id":"atomyst-xlo.4","depends_on_id":"atomyst-xlo","type":"parent-child","created_at":"2026-02-02T15:26:51.343274+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-xlo.4","depends_on_id":"atomyst-xlo.1","type":"blocks","created_at":"2026-02-02T15:27:01.394225+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-xlo.4","depends_on_id":"atomyst-xlo.3","type":"blocks","created_at":"2026-02-02T15:27:01.463383+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-xlo.5","title":"Verify bug #21 fix in rewrite.ml","description":"Bug #21: fix_consumer_imports crashes when git-tracked files don't exist on disk (open_in fails). Verify the Sys.file_exists check is in place.","acceptance_criteria":"1. rewrite.ml has Sys.file_exists check before open_in around line 435\n2. Deleted tracked files are skipped gracefully\n3. Manual test passes: delete a tracked .py file, run atomize, no crash","status":"open","priority":1,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T15:26:54.901469+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T15:26:54.901469+04:00","external_ref":"atomyst-21","labels":["bug"],"dependencies":[{"issue_id":"atomyst-xlo.5","depends_on_id":"atomyst-xlo","type":"parent-child","created_at":"2026-02-02T15:26:54.902246+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-y5y","title":"Test on domain_models.py","description":"Atomize dodogpt-backend's domain_models.py (3202 lines) as real-world validation","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T12:48:23.673374+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T08:26:01.442662+04:00","closed_at":"2026-02-01T08:26:01.442662+04:00","close_reason":"Successfully tested on 3274-line domain_models.py: 47 definitions extracted in 0.15s, well under 1s target","dependencies":[{"issue_id":"atomyst-y5y","depends_on_id":"atomyst-6t5","type":"blocks","created_at":"2026-01-30T12:53:37.426763+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-y5y","depends_on_id":"atomyst-4vw","type":"blocks","created_at":"2026-01-30T12:53:37.495082+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-yjx","title":"Add forward reference fixture","description":"Test circular references between classes:\n```python\nclass Foo:\n    bar: 'Bar'\n\nclass Bar:\n    foo: 'Foo'\n```\nBoth extracted, imports will fail until formatter adds them.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-30T13:08:35.865744+04:00","created_by":"Marc GRIS","updated_at":"2026-01-30T14:16:09.645202+04:00","closed_at":"2026-01-30T14:16:09.645202+04:00","close_reason":"Closed"}
{"id":"atomyst-yr8","title":"OCaml: Implement CLI with Cmdliner","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-01-31T08:12:23.216068+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T07:18:12.305014+04:00","closed_at":"2026-02-01T07:18:12.305014+04:00","close_reason":"CLI implemented with Cmdliner: atomize and extract modes, dry-run, JSON output. Parity with Python on all fixtures.","dependencies":[{"issue_id":"atomyst-yr8","depends_on_id":"atomyst-0km","type":"blocks","created_at":"2026-01-31T08:12:33.308015+04:00","created_by":"Marc GRIS"},{"issue_id":"atomyst-yr8","depends_on_id":"atomyst-nrg","type":"blocks","created_at":"2026-01-31T08:12:33.38257+04:00","created_by":"Marc GRIS"}]}
{"id":"atomyst-yuh","title":"Add module_constant type to python_parser.mli","description":"Add type: { name: string; loc: location }. Skip dunder names (__all__, __name__), skip augmented assignments (+=).","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T17:36:02.962156+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T17:38:59.288756+04:00","closed_at":"2026-02-01T17:38:59.288756+04:00","close_reason":"Closed"}
{"id":"atomyst-yzg","title":"Epic: Prefix Module","description":"Pure functions for --prefix-kind filename generation. Maps definition kinds to prefixes and parses them back. Maintains FP separation: Types = data, Prefix = transformations.","status":"closed","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-02T10:14:16.393982+04:00","created_by":"Marc GRIS","updated_at":"2026-02-02T11:51:04.409223+04:00","closed_at":"2026-02-02T11:51:04.409223+04:00","close_reason":"All subtasks completed"}
{"id":"atomyst-zs1","title":"Issue #18: Auto-fix misses absolute imports","description":"Consumer import fix only handles relative imports. Absolute imports (from pkg.sub.module import X) are not detected or rewritten.","status":"closed","priority":1,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-01T18:17:20.292462+04:00","created_by":"Marc GRIS","updated_at":"2026-02-01T18:18:50.397066+04:00","closed_at":"2026-02-01T18:18:50.397066+04:00","close_reason":"Closed"}
